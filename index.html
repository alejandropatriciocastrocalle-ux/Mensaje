<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Mensaje Interactivo</title>
<style>
body {
  margin: 0;
  padding: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  font-family: Georgia, "Times New Roman", serif;
  background: black;
  color: #ffffff;
  overflow: hidden;
}
#start-screen {
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  width: 100%;
  height: 100%;
  position: absolute;
  top: 0;
  left: 0;
  z-index: 10;
}
#start-screen button {
  padding: 30px 60px;
  font-size: 45px;
  border: none;
  border-radius: 12px;
  background: fuchsia;
  box-shadow: 0 6px 15px rgba(0,0,0,0.5);
  cursor: pointer;
  transition: background 0.3s;
}
#start-screen button:hover {
  background: #ff33ff;
}
#app {
  position: relative;
  display: none;
  width: 100%;
  height: 100%;
}
#video-bg {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  z-index: -1;
}
#text {
  position: absolute;
  top: 25%;
  left: 10%;
  right: 10%;
  bottom: 25%;
  font-size: 30px;
  text-align: justify;
  white-space: pre-line;
  overflow-y: auto;
  color: white;
  opacity: 0;
}
#buttons {
  position: absolute;
  bottom: 20%;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  justify-content: center;
  gap: 10px;
}
#buttons button {
  padding: 21px 42px;
  font-size: 30px;
  border: none;
  border-radius: 8px;
  background: fuchsia;
  cursor: pointer;
  transition: background 0.3s;
}
#buttons button:hover {
  background: #ff33ff;
}
#image-screen {
  position: absolute;
  top: 25%;
  left: 10%;
  right: 10%;
  bottom: 25%;
  display: none;
  justify-content: center;
  align-items: center;
}
#image-screen img {
  max-width: 100%;
  max-height: 100%;
  object-fit: contain;
}
#video-screen {
  display: none;
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: 100%;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  background: black;
}
#video-screen video {
  max-width: 100%;
  max-height: 100%;
}
</style>
</head>
<body>

<div id="start-screen">
  <button onclick="startApp()">Empezar</button>
</div>

<div id="app">
  <video id="video-bg" src="video.mp4" autoplay muted loop playsinline></video>
  <div id="text"></div>
  <div id="image-screen"><img id="image-content" src=""></div>
  <div id="video-screen">
    <video id="special-video" src="video2.mp4"></video>
    <div id="video-buttons"></div>
  </div>
  <div id="buttons"></div>
</div>

<audio id="bg-music" loop>
  <source src="musica.mp3" type="audio/mpeg">
</audio>

<audio id="page-sound">
  <source src="page.mp3" type="audio/mpeg">
</audio>

<script>
const app = document.getElementById("app");
const textElement = document.getElementById("text");
const buttonsElement = document.getElementById("buttons");
const bgMusic = document.getElementById("bg-music");
const pageSound = document.getElementById("page-sound");
const imageScreen = document.getElementById("image-screen");
const imageContent = document.getElementById("image-content");
const videoScreen = document.getElementById("video-screen");
const specialVideo = document.getElementById("special-video");
const videoButtons = document.getElementById("video-buttons");

const screens = {
  "PANTALLA 1": { text: "Hola Ada, lo siento no hay ningún proyecto,pero tengo algo importante que contarte ¿quisieras escucharme?", buttons: [ { label: "Está bien", next: "PANTALLA 2" }, { label: "no", next: "PANTALLA 1.1" } ] },
  "PANTALLA 1.1": { text: "por favor…", buttons: [ { label: "está bien", next: "PANTALLA 2" } ] },
  "PANTALLA 2": { text: "Hola ada, espero estés bien,el día de hoy tengo para ti un mensaje, un que fue concebido luego de haber dejado atrás todas las incertidumbres, indesiciones, y cualquier otra limitante que me impida dar lo mejor de mí, te contaré algo de una forma especial y sincera, espero sea de tu agrado:", buttons: [ { label: "continuar", next: "PANTALLA 3" } ] },
  "PANTALLA 3": { text: "Pasé bastante tiempo, días enteros, semanas, meses.. tratando de entender cómo pude comportarme de una manera tan nefasta, tan necia ,tan insensible , tan desagradecida ..cómo es que fui tan mala persona contigo , me rompía la cabeza tratando de comprender cómo te pude ofrecer tan poco durante tanto tiempo y no haberme dado cuenta sino hasta el final. Pero ahora entiendo....", buttons: [ { label: "continuar", next: "PANTALLA 3.1" } ] },
  "PANTALLA 3.1": { text: "Entiendo que no estaba listo para ti …..nunca lo estuve , ni la primera vez, ni cuando regresamos, ni cuando te enteraste y menos cuando falsamente pensé que había cambiado y lo intentamos nuevamente, qué tonto fui ,prueba de ello fue el rotundo fracaso que sucedió posteriormente, todo por mi culpa.\n\nJamás hice un cambio real, seguía dejando que mis vicios silenciosos me controlaran ,ese era mi bendito problema, nunca cambié mi forma de ser, simplemente creí que lo estaba haciendo, cuando solo repetía lo mismo esperando un resultado distinto, tropecé 100 veces en mi intento de ser mejor,pero te prometo que no fue porque no te amaba Ada, sino porque aún seguía luchando con lo que más odiaba de mí.", buttons: [ { label: "está bien", next: "PANTALLA 4" } ] },
  "PANTALLA 4": { text: "Soportaste muchas cosas malas , lloraste frente a mi algunas veces, y a solas, en silencio, muchas tantas veces más…\n\Ada, no quiero que esta sea la última vez que lo haga, pero si es el caso, quiero disculparme contigo una vez más", buttons: [ { label: "continuar", next: "PANTALLA S" } ] },
  "PANTALLA S": { text: "Lamento profundamente no haber estado  la altura de una persona tan maravillosa como tú,lamento haber sido completamente inconsciente, insensible, traicionarte muchas veces, decepcionándote de muchas maneras, y decepcionándome a mi en el proceso,te mostré lo peor que una persona puede hacer, lamento haberte criticado cuando necesitabas un impulso, lamento haberme callado cuando más debíamos comunicarnos, lamento haberte dañado física y emocionalmente, cuando debí protegerte, lamento no haberte dicho lo hermosa que te veías, cuando disfrutaba con todo mi ser verte sonreir, lamento no haberte dado el cariño, la ternura y el amor que merecías, lamento haberte ignorado cuando más necesitabas de mi prescencia, lamento haberte hecho sentir insegura, cuando necesitabas confianza, lamento haberte mostrado lo peor de mi, cuando tú dabas lo mejor de ti, lamento haberte hecho soportar un nivel de estupidez y ceguera TAN ALTO, que mi miopía sería considerada un superpoder al lado de ella\n\nAda, perdón....por todo.", buttons: [ { label: "está bien", next: "PANTALLA 5" } ] },
  "PANTALLA 5": { text: "Ada , Tú me mostraste lo más noble y tierno que hay en el mundo, es por tí y gracias a tí que quise mejorar , pudiste simplemente haberme odiado y escupido, pero en cambio , me aconsejaste , me diste a ver mis errores, me resaltaste lo bueno y lo malo …. Al final solo me demostraste lo que ya sabía desde antes, que eres muy especial , y que hiciste cosas que solo alguien tan especial como tú pudo haber hecho . me mostraste mis defectos, mis carencias, pero también dijiste muchas cosas que valorabas de mí y como podía mejorarlas. En vez de hundirme en la miseria, me hiciste ver quién era y quién podía llegar a ser, creo que podría escribir mucho más texto demostrando lo agradecido que estoy por ello , y que estaré por el resto de mi vida, sea cual sea nuestro destino.", buttons: [ { label: "está bien", next: "PANTALLA 6" } ] },
  "PANTALLA 6": { text: "Sabes , también me pregunté si es correcto lo que estoy haciendo , si es el mejor camino…si es lo mejor.\n\nhoy me pregunto si tal decisión existe ,creo que solo tomamos desiciones, sin más, ¿No crees que si todo estuviera escrito y existiera la mejor decisión, un camino lineal, la vida no tendría sentido?\nNo existen las decisiones correctas, está en nosotros y nuestras acciones ,hacer que sea CORRECTA la decisión que tomemos\n\nYo ya tomé mi decisión", buttons: [ { label: "continuar", next: "PANTALLA 7" } ] },
  "PANTALLA 7": { text: "durante mucho tiempo mis errores del pasado me gritaron que no te merecía, que no te haga perder el tiempo , que ya todo acabó, sin embargo mi corazón se niega rotundamente a darles la razón  y me dice ….quiero , quiero", buttons: [ { label: "continuar", next: "PANTALLA 8" } ] },
  "PANTALLA 8": { type: "typing", messages: [ "Quiero ser el vendaje que cierre tus heridas,", " quiero estar a tu lado y abrigarte cuando las noches sean frías,", " quiero ser el hombro donde puedas llorar hasta quedarte dormida,", " quiero volver a ser el motivo de tus sonrisas,", " quiero que conozcamos el mundo juntos , que se hagan realidad tantos planes y sueños que quiero cumplir a tu lado,", " Adahana,  QUIERO VIVIR MI VIDA CONTIGO , quiero demostrarte que puedo amarte tan fuerte como nunca ....y quiero que tú me ames también ." ], buttons: [ { label: "Siguiente", next: "PANTALLA 9" } ] },
  "PANTALLA 9": { text: "Quiero que nos acostemos en tu sillón como antes , que algún gato se suba allí y nos riamos ambos de él , o quizá que tú te molestes con él por alguna razón que ya no recuerdo, lo que sí recuerdo es que una vez te describí cuál era mi significado de felicidad , lo recuerdas? Bueno si no lo entendiste, hoy te lo demuestro con una foto, una que me recuerda que puedo ser feliz cuando a veces siento que no.", buttons: [ { label: "continuar", next: "PANTALLA 10" } ] },
  "PANTALLA 10": { type: "image", image: "image.webp", buttons: [ { label: "continuar", next: "PANTALLA 11" } ] },
  "PANTALLA 11": { text: "Sé que hay muchas cosas que, si sucede el caso, deberíamos conversar y arreglar , algunas diferencias quizá, pero te prometo que dispondría mi vida entera tratando de descifrarte, solo permíteme mostrarte que puedo ser una persona digna de estar a tu lado. Hay un dicho que dice que nunca te bañas en las mismas aguas de un río, y es verdad, las aguas cambian, pero nuestra esencia permanece, no debemos temerle a la corriente, muchas veces no se lleva con ella nuestro ser, a veces, solo pule lo que somos, lava nuestras heridas, nuestras imperfecciones, no nos roba nuestra identidad, nos ayuda a ser más limpios y fieles a nosotros mismos.", buttons: [ { label: "continuar", next: "PANTALLA 12" } ] },
  "PANTALLA 12": { text: "El río me enseñó también que no soy otro, pero tampoco el mismo de ayer, lo podrás ver si decides acercarte a mi y mirarme con otros ojos ,no como mirando al pasado, sino imaginando un nuevo horizonte, uno que me haría muy feliz mostrarte. Serás tú quien decida si vale la pena o no dar un último salto de riesgo por mi . Te prometo que será una muy buena inversión que te dará retornos en forma de felicidad en el mediano y largo plazo, en el corto quizá tengamos una ligera turbulencia jaja.", buttons: [ { label: "continuar", next: "PANTALLA 13" } ] },
  "PANTALLA 13": { text: "¿Necesitas tiempo de pensarlo? No importa, he aprendido la paciencia, tantas veces en las que por ansiedad quise escribirte, pero escogí guardar silencio, pues entendí que aún no era el momento. Así que no te preocupes si necesitas tiempo, te esperaré cuanto sea necesario. Estaré aquí, parado en el medio del río, esperando que la corriente te empuje hacia mi nuevamente, si lo dejas hacerlo …", buttons: [ { label: "continuar", next: "VIDEO" } ] },
  "VIDEO": { type: "video" },
  "FIN": { text: "Gracias por leer 💖", buttons: [ { label: "Reiniciar", next: "PANTALLA 1" }, { label: "Salir", next: "SALIR" } ] }
};

function startApp() {
  document.getElementById("start-screen").style.display = "none";
  app.style.display = "block";
  bgMusic.volume = 0.5;
  bgMusic.play();
  showScreen("PANTALLA 1");
}

function fadeText(newText, duration = 1000) {
  textElement.style.transition = `opacity ${duration}ms ease-in-out`;
  textElement.style.opacity = 0;
  setTimeout(() => {
    textElement.textContent = newText;
    textElement.style.opacity = 1;
  }, duration);
}

function typeMessages(messages, delay = 1000, index = 0) {
  if (index >= messages.length) return;
  let i = 0;
  const message = messages[index];
  const interval = setInterval(() => {
    textElement.textContent += message[i];
    i++;
    if (i >= message.length) {
      clearInterval(interval);
      setTimeout(() => {
        typeMessages(messages, delay, index + 1);
      }, delay);
    }
  }, 50);
}

function showScreen(id) {
  const screen = screens[id];
  buttonsElement.innerHTML = "";
  textElement.style.display = "block";
  imageScreen.style.display = "none";
  videoScreen.style.display = "none";
  specialVideo.pause();
  specialVideo.currentTime = 0;

  if (screen.type === "image") {
    textElement.style.display = "none";
    imageScreen.style.display = "flex";
    imageContent.src = screen.image;
  } else if (screen.type === "typing") {
    textElement.textContent = "";
    textElement.style.opacity = 1;
    typeMessages(screen.messages, 1000);
  } else if (screen.type === "video") {
    textElement.style.display = "none";
    buttonsElement.style.display = "none";
    videoScreen.style.display = "flex";
    specialVideo.play();
    videoButtons.innerHTML = "";
    specialVideo.onended = () => {
      const btn = document.createElement("button");
      btn.textContent = "Final";
      btn.onclick = () => showScreen("FIN");
      videoButtons.appendChild(btn);
    };
    return;
  } else {
    fadeText(screen.text, 1000);
  }

  if (screen.buttons) {
    screen.buttons.forEach(b => {
      const btn = document.createElement("button");
      btn.textContent = b.label;
      btn.onclick = () => {
        pageSound.currentTime = 0;
        pageSound.play();
        if (b.next === "SALIR") {
          window.close();
        } else {
          showScreen(b.next);
        }
      };
      buttonsElement.appendChild(btn);
    });
    buttonsElement.style.display = "flex";
  }
}
</script>
</body>
</html>

