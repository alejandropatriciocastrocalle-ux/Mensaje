<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Mensaje Interactivo</title>
<style>
body {
  margin: 0;
  padding: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  font-family: Georgia, "Times New Roman", serif;
  background: black;
  color: #ffffff;
  overflow: hidden;
}
#start-screen {
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  width: 100%;
  height: 100%;
  position: absolute;
  top: 0;
  left: 0;
  z-index: 10;
}
#start-screen button {
  padding: 30px 60px;
  font-size: 45px;
  border: none;
  border-radius: 12px;
  background: fuchsia;
  box-shadow: 0 6px 15px rgba(0,0,0,0.5);
  cursor: pointer;
  transition: background 0.3s;
}
#start-screen button:hover {
  background: #ff33ff;
}
#app {
  position: relative;
  display: none;
  width: 100%;
  height: 100%;
}
#video-bg {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  z-index: -1;
}
#text {
  position: absolute;
  top: 25%;
  left: 10%;
  right: 10%;
  bottom: 25%;
  font-size: 30px;
  text-align: justify;
  white-space: pre-line;
  overflow-y: auto;
  color: white;
  opacity: 0;
}
#buttons {
  position: absolute;
  bottom: 20%;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  justify-content: center;
  gap: 10px;
}
#buttons button {
  padding: 21px 42px;
  font-size: 30px;
  border: none;
  border-radius: 8px;
  background: fuchsia;
  cursor: pointer;
  transition: background 0.3s;
}
#buttons button:hover {
  background: #ff33ff;
}
#image-screen {
  position: absolute;
  top: 25%;
  left: 10%;
  right: 10%;
  bottom: 25%;
  display: none;
  justify-content: center;
  align-items: center;
  opacity: 0; /* inicialmente transparente */
}
#image-screen img {
  max-width: 100%;
  max-height: 100%;
  object-fit: contain;
}
</style>
</head>
<body>

<div id="start-screen">
  <button onclick="startApp()">Empezar</button>
</div>

<div id="app">
  <video id="video-bg" src="video.mp4" autoplay muted loop playsinline></video>
  <div id="text"></div>
  <div id="image-screen"><img id="image-content" src=""></div>
  <div id="buttons"></div>
</div>

<audio id="bg-music" loop>
  <source src="musica.mp3" type="audio/mpeg">
</audio>

<audio id="page-sound">
  <source src="page.mp3" type="audio/mpeg">
</audio>

<script>
const app = document.getElementById("app");
const textElement = document.getElementById("text");
const buttonsElement = document.getElementById("buttons");
const bgMusic = document.getElementById("bg-music");
const pageSound = document.getElementById("page-sound");
const imageScreen = document.getElementById("image-screen");
const imageContent = document.getElementById("image-content");

const screens = {
  "PANTALLA 1": { text: "Hola Ada, lo siento no hay ning√∫n proyecto,pero tengo algo importante que contarte ¬øquisieras escucharme?", buttons: [ { label: "Est√° bien", next: "PANTALLA 2" }, { label: "no", next: "PANTALLA 1.1" } ] },
  "PANTALLA 1.1": { text: "por favor‚Ä¶", buttons: [ { label: "est√° bien", next: "PANTALLA 2" } ] },
  "PANTALLA 2": { text: "Despu√©s de mucho tiempo d√°ndole vueltas a mi mente, pregunt√°ndome si deb√≠a empezar o callar para siempre, entend√≠ que el silencio no era lo que necesitaba, decid√≠ tomar acci√≥n y as√≠ naci√≥ esta carta, en ella , te mostrar√© una parte pura y sincera de mi, espero sea de tu agrado:", buttons: [ { label: "continuar", next: "PANTALLA 3" } ] },
  "PANTALLA 3": { text: "Estuve muchos, muchos d√≠as y quiz√° el doble de noches tratando de comprender muchas cosas, en silencio, no entend√≠a c√≥mo pude ser tan necio ,tan insensible , tan desagradecido , tan mala persona contigo , me romp√≠a la cabeza tratando de entender c√≥mo te pude ofrecer tan poco durante tanto tiempo y no haberme dado cuenta.\nPero ahora entiendo.", buttons: [ { label: "continuar", next: "PANTALLA 4" } ] },
  "PANTALLA 4": { text: "Soportaste muchas cosas malas , en silencio algunas veces ,llorando a solas muchas tantas veces m√°s‚Ä¶\n\nNo recuerdo haberte pedido perd√≥n por esto , esa vez en la que te dije que la relaci√≥n estaba bien y que t√∫ eras la problem√°tica,recuerdas?\n\nYo si ,mis errores pasan por mi cabeza d√≠a y noche ,pues no logro a√∫n del todo asimilar que fui yo el que los cometi√≥, as√≠ que hoy te pido perd√≥n , perd√≥n por haberte hecho soportar un nivel de ceguera tan alto ‚Ä¶ que m√≠ miop√≠a ser√≠a considerada un superpoder al lado de ella", buttons: [ { label: "est√° bien", next: "PANTALLA 5" } ] },
  "PANTALLA 5": { text: "Ada , T√∫ me mostraste lo m√°s noble y tierno que hay en el mundo, es por ti y gracias a ti que quise mejorar , pudiste simplemente haberme odiado y escupido , pero en cambio , me aconsejaste , me diste a ver mis errores, me resaltaste lo bueno y lo malo ‚Ä¶. Al final solo me demostraste lo que ya sab√≠a desde antes ,que eres alguien muy especial , que hiciste cosas que solo una persona tan especial como t√∫ pudo haber hecho . me mostraste mis defectos , mis carencias, pero tambi√©n dijiste muchas cosas que valorabas de m√≠ y como pod√≠a mejorarlas. En vez de hundirme en la miseria ,no solo me hiciste ver qui√©n era, sino qui√©n pod√≠a llegar a ser, creo que podr√≠a escribir muchos m√°s texto demostrando lo agradecido que estoy por ello , y que estar√© por el resto de mi vida, sea cual sea nuestro destino.", buttons: [ { label: "est√° bien", next: "PANTALLA 6" } ] },
  "PANTALLA 6": { text: "Sabes , tambi√©n me pregunt√© si es correcto lo que estoy haciendo , si es el mejor camino‚Ä¶si es lo mejor.\n\nhoy me pregunto si tal decisi√≥n existe ,creo que solo tomamos desiciones, sin m√°s , no crees que si todo estuviera escrito , y existiera la mejor decisi√≥n, un camino lineal, la vida no tendr√≠a sentido.?\nNo existen las decisiones correctas , est√° en nosotros y nuestras acciones ,hacer que sea CORRECTA la decisi√≥n que tomemos\n\nYo ya tom√© mi decisi√≥n", buttons: [ { label: "continuar", next: "PANTALLA 7" } ] },
  "PANTALLA 7": { text: "durante mucho tiempo mis errores del pasado me gritaron que no te merezco, que no te haga perder el tiempo , que ya todo acab√≥, sin embargo mi coraz√≥n lo niega rotundamente y me dice ‚Ä¶.quiero , quiero", buttons: [ { label: "continuar", next: "PANTALLA 8" } ] },
  "PANTALLA 8": { type: "typing", messages: [ "Quiero ser el vendaje que cierre tus heridas,", " quiero estar a tu lado y abrigarte cuando las noches sean fr√≠as,", " quiero ser el hombro donde puedas llorar hasta quedarte dormida,", " quiero volver a ser el motivo de tus sonrisas,", " quiero que conozcamos el mundo juntos , que se hagan realidad tantos planes y sue√±os que quiero cumplir a tu lado,", " Adahana,  QUIERO VIVIR MI VIDA CONTIGO , quiero demostrarte que puedo amarte tan fuerte como nunca y quiero que t√∫ me ames tambi√©n ." ], buttons: [ { label: "Siguiente", next: "PANTALLA 9" } ] },
  "PANTALLA 9": { text: "Quiero que nos acostemos en tu sill√≥n como antes , que alg√∫n gato se suba all√≠ y nos riamos ambos de √©l , o quiz√° que t√∫ te molestes con √©l por alguna raz√≥n que ya no recuerdo , lo que s√≠ recuerdo es que una vez te describ√≠ cu√°l era mi significado de felicidad , lo recuerdas? Bueno si no lo entendiste , hoy te lo demuestro con una foto , una muy Linda que miro 8 de cada 7 d√≠as y que me recuerda que puedo ser feliz.", buttons: [ { label: "continuar", next: "PANTALLA 10" } ] },
  "PANTALLA 10": { type: "image", image: "image.webp", buttons: [ { label: "continuar", next: "PANTALLA 11" } ] },
  "PANTALLA 11": { text: "S√© que hay muchas cosas que, si sucede el caso,deber√≠amos conversar y arreglar , algunas diferencias quiz√°, pero te prometo que dispondr√≠a mi vida entera tratando de descifrarte, solo necesito que me permits mostrarte la mejor versi√≥n de m√≠ que he conseguido hasta ahora. Hay un dicho que dice que nunca te ba√±as en las mismas aguas de un r√≠o, y es verdad , las aguas cambian ,pero nuestra esencia permanece, no debemos temerle a la corriente , muchas veces no se lleva con ella nuestro ser , a veces ,solo pule lo que somos , lava nuestras heridas , nuestras imperfecciones , no nos roba nuestra identidad, nos ayuda a ser m√°s limpios y fieles a nosotros mismos .", buttons: [ { label: "continuar", next: "PANTALLA 12" } ] },
  "PANTALLA 12": { text: "El r√≠o me ense√±√≥ tambi√©n que no soy otro, pero tampoco el mismo de ayer, por favor , ac√©rcate y m√≠rame con otros ojos ,no como mirando al pasado , sino imaginando un nuevo horizonte , uno que me har√≠a muy feliz mostrarte . Ser√°s t√∫ quien decida si vale la pena o no dar un √∫ltimo salto de riesgo por mi . Te prometo que ser√° una muy buena inversi√≥n que te dar√° retornos en forma de felicidad en el mediano y largo plazo.", buttons: [ { label: "continuar", next: "PANTALLA 13" } ] },
  "PANTALLA 13": { text: "Necesitas tiempo de pensarlo ? No importa , he aprendido la paciencia , tantas veces en las que mi manos temblaban por escribirte ,pero en las que escog√≠ guardar silencio , pues entend√≠ que a√∫n no era el momento. As√≠ que no te preocupes si necesitas tiempo , te esperar√© cuanto sea necesario . Estar√© aqu√≠ ,parado en el r√≠o , esperando que la corriente te empuje hacia mi nuevamente,si lo dejas hacerlo ‚Ä¶", buttons: [ { label: "Final", next: "FIN" } ] },
  "FIN": { text: "Gracias por leer üíñ", buttons: [ { label: "Reiniciar", next: "PANTALLA 1" }, { label: "Salir", next: "SALIR" } ] }
};

function startApp() {
  document.getElementById("start-screen").style.display = "none";
  app.style.display = "block";
  bgMusic.volume = 0.5;
  bgMusic.play();
  showScreen("PANTALLA 1");
}

function fadeText(newText, duration = 1000) {
  textElement.style.transition = `opacity ${duration}ms ease-in-out`;
  textElement.style.opacity = 0;
  setTimeout(() => {
    textElement.textContent = newText;
    textElement.style.opacity = 1;
  }, duration);
}

function typeMessages(messages, delay = 1000, index = 0) {
  if (index >= messages.length) return;
  let i = 0;
  const message = messages[index];
  const interval = setInterval(() => {
    textElement.textContent += message[i];
    i++;
    if (i >= message.length) {
      clearInterval(interval);
      setTimeout(() => {
        typeMessages(messages, delay, index + 1);
      }, delay);
    }
  }, 50);
}

function showScreen(id) {
  const screen = screens[id];
  buttonsElement.innerHTML = "";
  textElement.style.display = "block";
  imageScreen.style.display = "none";

  if(screen.type === "image") {
    textElement.style.display = "none";
    imageScreen.style.display = "flex";
    imageScreen.style.opacity = 0; // inicial transparente
    imageContent.src = screen.image;
    setTimeout(() => { // efecto fade-in
      imageScreen.style.transition = "opacity 1s ease-in-out";
      imageScreen.style.opacity = 1;
    }, 50);
  } else if (screen.type === "typing") {
    textElement.textContent = "";
    textElement.style.opacity = 1;
    typeMessages(screen.messages, 1000);
  } else {
    fadeText(screen.text, 1000);
  }

  screen.buttons.forEach(b => {
    const btn = document.createElement("button");
    btn.textContent = b.label;
    btn.onclick = () => {
      pageSound.currentTime = 0;
      pageSound.play();
      if (b.next === "SALIR") {
        window.close();
      } else {
        showScreen(b.next);
      }
    };
    buttonsElement.appendChild(btn);
  });

  buttonsElement.style.display = "flex"; // aseguramos que el bot√≥n siempre se vea
}
</script>
</body>
</html>
